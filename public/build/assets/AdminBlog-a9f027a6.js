import{j as r,a as e}from"./jsx-runtime-175b92fd.js";import{a as h,r as u,L as o}from"./app-be4967e4.js";import{A as p}from"./AdminLayout-774002a7.js";import"./ReactToastify-e25fba40.js";function x({image:l,title:t,description:s,time:n}){return r("div",{className:"w-full flex mb-4",children:[e("div",{className:"w-2/4 md:w-1/4 px-3 md:mb-0",children:e("img",{src:"/"+l,className:"w-full h-20 object-cover",alt:t})}),r("div",{className:"w-full md:w-3/4 md:px-3 mb-1 md:mb-0 mr-auto",children:[e("h5",{className:"text-lg font-bold mb-1 line-clamp-1 hover:underline",children:t}),e("p",{className:"text-gray-500 line-clamp-1",children:s}),e("p",{className:"text-gray-500 mb-2",children:e("small",{children:new Date(n).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})})})]})]})}function f({posts:l,categories:t}){const{data:s,setData:n,get:d,processing:c}=h(),m=a=>{a.preventDefault(),d("/admin/blog",{preserveState:!0,preserveScroll:!0})};return u.useEffect(()=>{const a=new URLSearchParams(window.location.search);n("search_text",a.get("search_text"))},[]),r("div",{className:"flex flex-col-reverse md:flex-row max-w-screen-lg md:space-x-10 mx-auto p-5",children:[r("div",{className:"md:w-3/4 mt-10 md:mt-0",children:[r("div",{className:"flex justify-between",children:[e("h1",{className:"text-2xl font-semibold",children:"All Articles"}),e(o,{href:"/admin/blog/create",className:"bg-primary hover:bg-primary-hover text-white font-bold py-2 px-10 rounded focus:outline-none focus:shadow-outline",children:"New"})]}),e("form",{onSubmit:m,children:r("div",{className:"flex rounded-md py-5 border-t-2",children:[e("input",{className:"shadow appearance-none border rounded-l-md w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"articleTitle",type:"text",placeholder:"Search for an article",value:s.search_text??"",onChange:a=>n("search_text",a.target.value)}),e("button",{type:"submit",disabled:c,className:"bg-primary px-4 rounded-r-md shadow text-white",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})})]})}),l&&l.length==0?e("div",{className:"flex items-center text-center font-semibold text-lg w-full bg-gray-100 p-10",children:e("span",{className:"mx-auto",children:"No posts found matching that query"})}):l.map((a,i)=>e(o,{href:"/admin/blog/"+a.slug,children:e(x,{title:a.title,description:a.description,time:a.updated_at,image:a.imageurl})},i))]}),r("div",{className:"md:w-1/4",children:[e("h1",{className:"text-2xl font-semibold",children:"Catgeories"}),e("div",{className:"py-5 border-t-2",children:t&&t.map((a,i)=>r("p",{className:"shadow p-2",children:[a.name," (",a.blog_count??0,")"]},i))})]})]})}f.layout=l=>e(p,{children:l});export{f as default};
