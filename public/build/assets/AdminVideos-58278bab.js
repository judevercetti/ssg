import{a as e,j as t}from"./jsx-runtime-8159e4fd.js";import{r as o,a as u}from"./app-feef39b7.js";import{A as N}from"./AdminLayout-c75211f2.js";import{r as l}from"./index-1eb4f225.js";import{Q as b}from"./ReactToastify-65e0e885.js";function w({video:i}){return e("div",{children:t("div",{className:"w-full rounded-lg lg:max-w-sm",children:[e("img",{className:"object-cover w-full h-36",src:"/"+i.image_url,alt:"image"}),t("div",{className:"p-4",children:[e("h4",{className:"text-lg font-bold mb-1 line-clamp-2 hover:underline",children:i.title}),e("p",{className:"mb-2 leading-normal text-gray-500 line-clamp-2",children:i.category_id})]})]})})}function y({videos:i,categories:n}){const[c,m]=o.useState(!1),d=()=>m(!c),a=u(),{data:g,setData:h,get:p,processing:x}=u(),v=r=>{r.preventDefault(),p("/admin/blog",{preserveState:!0,preserveScroll:!0})},f=r=>{r.preventDefault(),a.post("/admin/ssgtv",{preserveState:!0,preserveScroll:!0,onSuccess:()=>{b.success("Video added"),m(!1)}})};return o.useEffect(()=>{const r=new URLSearchParams(window.location.search);h("search_text",r.get("search_text"))},[]),t("div",{className:"flex flex-col-reverse md:flex-row max-w-screen-xl md:space-x-10 mx-auto p-5",children:[t("div",{className:"md:w-3/4 mt-10 md:mt-0",children:[t("div",{className:"flex justify-between",children:[e("h1",{className:"text-2xl font-semibold",children:"All Videos"}),t(o.Fragment,{children:[e(l.Button,{onClick:d,variant:"gradient",children:"New"}),e(l.Dialog,{open:c,handler:d,children:t("form",{onSubmit:f,children:[e(l.DialogHeader,{children:"Add new video"}),e(l.DialogBody,{divider:!0,children:t("div",{className:"flex flex-col space-y-5",children:[t("div",{children:[e(l.Input,{label:"Image",type:"file",size:"lg",onChange:r=>a.setData("image",r.target.files[0]),error:a.errors.image}),a.errors.image&&e("span",{className:"text-xs text-red-500",children:a.errors.image})]}),t("div",{children:[e(l.Input,{label:"Title",size:"lg",value:a.data.title??"",onChange:r=>a.setData("title",r.target.value),error:a.errors.title}),a.errors.title&&e("span",{className:"text-xs text-red-500",children:a.errors.title})]}),t("div",{children:[e(l.Input,{label:"Video url",size:"lg",value:a.data.video_url??"",onChange:r=>a.setData("video_url",r.target.value),error:a.errors.video_url}),a.errors.video_url&&e("span",{className:"text-xs text-red-500",children:a.errors.video_url})]}),t("div",{children:[e(l.Select,{label:"Category",value:a.data.category_id??"",onChange:r=>a.setData("category_id",r),children:n.map((r,s)=>e(l.Option,{value:r.id.toString(),children:r.name},s))}),a.errors.category_id&&e("span",{className:"text-xs text-red-500",children:a.errors.category_id})]})]})}),t(l.DialogFooter,{children:[e(l.Button,{variant:"text",color:"red",onClick:d,className:"mr-1",children:e("span",{children:"Cancel"})}),e(l.Button,{variant:"gradient",color:"green",type:"submit",disabled:a.processing,children:e("span",{children:"Confirm"})})]})]})})]})]}),e("form",{onSubmit:v,children:t("div",{className:"flex rounded-md py-5 border-t-2",children:[e("input",{className:"shadow appearance-none border rounded-l-md w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",id:"articleTitle",type:"text",placeholder:"Search for an article",value:g.search_text??"",onChange:r=>h("search_text",r.target.value)}),e("button",{type:"submit",disabled:x,className:"bg-primary px-4 rounded-r-md shadow text-white",children:e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"w-6 h-6",children:e("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 21l-5.197-5.197m0 0A7.5 7.5 0 105.196 5.196a7.5 7.5 0 0010.607 10.607z"})})})]})}),i&&i.length==0&&e("div",{className:"flex items-center text-center font-semibold text-lg w-full bg-gray-100 p-10",children:e("span",{className:"mx-auto",children:"No videos found matching that query"})}),e("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-5",children:i.map((r,s)=>e(w,{video:r},s))})]}),t("div",{className:"md:w-1/4",children:[e("h1",{className:"text-2xl font-semibold",children:"Catgeories"}),e("div",{className:"py-5 border-t-2",children:n&&n.map((r,s)=>t("p",{className:"shadow p-2",children:[r.name," (",r.blog_count??0,")"]},s))})]})]})}y.layout=i=>e(N,{children:i});export{y as default};
